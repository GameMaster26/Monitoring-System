{% extends 'monitoring/base.html' %}

{% load static %}

{% block title %}
Reports
{% endblock %}
    
{% block content %}

{% include 'partials/_navlink.html' %}

    <div class="container mt-4">
        <h1 class="text-center h1">MUNICIPAL REPORT FORM ON ANIMAL BITE/HUMAN RABIES CASES</h1>
        <h2 class="text-center h2">{{ municipality_name }}</h2>
        <h3 class="text-center"><u>2nd Quarter 2024</u></h3>

        <table border="2">
            <thead>
                <tr>
                    <th rowspan="4">Barangay</th>
                    <th colspan="15">Human Case</th>
                    <th colspan="4" rowspan="3">Biting Animals</th>
                    <th colspan="2" rowspan="3">PEP Coverage</th>
                    <th colspan="2" rowspan="3">Vaccination Status of Biting Animal</th>
                </tr>
                <tr>
                    <th colspan="3" rowspan="2">SEX</th>
                    <th colspan="3" rowspan="2">AGE</th>
                    <th colspan="5">Animal Bite</th>
                    <th rowspan="2">HR</th>
                    <th colspan="3" rowspan="2">Post Exposure Prophylaxis</th>
                    
                </tr>
                <tr>
                    <th colspan="3">By Category</th>
                    <th rowspan="2">Total</th>
                    <th rowspan="2">%/Total</th>
                </tr>
                <tr>
                    <th>M</th>
                    <th>F</th>
                    <th>Total</th>
                    <th>&lt;=15</th>
                    <th>&gt;15</th>
                    <th>Total</th>
                    <th>I</th>
                    <th>II</th>
                    <th>III</th>
                    <th>No.</th>
                    <th>TCV</th>
                    <th>HRIG</th>
                    <th>ERIG</th>
                    <th>D</th>
                    <th>C</th>
                    <th>O</th>
                    <th>Total</th>
                    <th>%TCV</th>
                    <th>$ERIG</th>
                    <th>Yes</th>
                    <th>No</th>
                </tr>

            </thead>
            <tbody>
                {% for report in barangay_reports %}
                <tr>
                    <td>{{ report.barangay_name }}</td>
                    <td>{{ report.male_cases }}</td>
                    <td>{{ report.female_cases }}</td>
                    <td>{{ report.male_cases|add:report.female_cases }}</td>
                    <td>{{ report.age_below_15 }}</td>
                    <td>{{ report.age_above_15 }}</td>
                    <td>{{ report.age_below_15|add:report.age_above_15 }}</td>
                    <td>{{ report.category_I }}</td>
                    <td>{{ report.category_II }}</td>
                    <td>{{ report.category_III }}</td>
                    <td>{{ report.total_cases }}</td>
                    <td>{{ report.total_cases|divisibleby:100 }}%</td>
                    <td>{{ report.pep_tcv }}</td>
                    <td>{{ report.pep_hrig }}</td>
                    <td>{{ report.pep_erig }}</td>
                    <td>{{ report.animal_alive }}</td>
                    <td>{{ report.animal_dead }}</td>
                    <td>{{ report.total_cases }}</td>
                    <td>{{ report.pep_tcv }}</td>
                    <td>{{ report.pep_erig }}</td>
                    <td>{{ report.pep_tcv|yesno:"Yes,No" }}</td>
                    <td>{{ report.pep_erig|yesno:"Yes,No" }}</td>
                </tr>

                {% empty %}
                <tr>
                    <td colspan="23">No data available</td>
                </tr>
                {% endfor %}

            </tbody>
            
        </table>
    </div>

<style>
    .navbar {
    padding: 0 20px; /* Add padding to the navbar */
    }
    .navbar-nav {
        flex-direction: row;
    }
    .nav-item {
        margin-right: 5px; /* Add margin to the nav items for spacing */
    }
    .nav-link {
        font-size: 16px; /* Adjust font size if needed */
    }
    .dropdown-menu {
        right: 0;
        left: auto; /* Make sure the dropdown menu aligns to the right */
    }
    .dropdown-item {
        font-size: 14px; /* Adjust font size if needed */
    }
    .navbar-toggler {
        margin-right: 20px; /* Add margin to the toggler button if needed */
    }
    .navbar-brand-logo {
        border: 1px solid #ddd; /* Add border if needed */
    }
    .text-primary {
        color: #007bff; /* Adjust color if needed */
    }

    .h1{
        font-size: 20px;
    }
    .h2{
        font-size: 18px;
    }
</style>
    
{% endblock %}